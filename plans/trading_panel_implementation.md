# –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç–æ—Ä–≥–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏ —Å –µ–¥–∏–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º —Ç–æ–∫–µ–Ω–∞

## –û–±–∑–æ—Ä

–ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ `TradingPanel.ts` –ø–æ–¥ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –¢–ó —Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π –ø–∞–Ω–µ–ª–∏ —Å –µ–¥–∏–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º —Ç–æ–∫–µ–Ω–∞, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ—Ç–∫—Ä—ã—Ç–∏–µ–º –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –∞–¥—Ä–µ—Å–∞ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π TP/SL —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞.

**–í–∞–∂–Ω–æ:** –ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å —Ç—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø-–ª–æ—Å—Å –∏ —Ç—Ä–µ–π–ª–∏–Ω–≥ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç. –¢–æ–ª—å–∫–æ –æ–±—ã—á–Ω—ã–π —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π TP/SL.

---

## –≠–¢–ê–ü 1: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤

### 1.1 –°–æ–∑–¥–∞—Ç—å src/types/panel.ts

**–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã:**

```typescript
export enum PanelMode {
  BUY = 'buy',
  SELL = 'sell',
  LIMIT = 'limit',
  TRACK = 'track'
}

export interface TokenData {
  name: string;
  ticker: string;
  market_cap: number;
  liquidity: number;
  current_price: number;
  decimals?: number;
}

export interface UserData {
  sol_balance: number;
  usd_balance: number;
  has_active_order: boolean;
}

export interface ActionData {
  selected_amount: number;
  slippage: number;
  limit_price?: number;
  position?: PositionData;
  tp_enabled: boolean;
  tp_price?: number;
  tp_percent?: number;
  sl_enabled: boolean;
  sl_price?: number;
  sl_percent?: number;
}

export interface PositionData {
  entry_price: number;
  current_price: number;
  size: number;
  pnl_usd: number;
  pnl_percent: number;
}

export interface UserPanelState {
  user_id: number;
  message_id: number;
  token_address: string;
  mode: PanelMode;
  token_data: TokenData;
  user_data: UserData;
  action_data: ActionData;
  created_at: number;
  closed: boolean;
  waiting_for?: 'limit_price' | 'limit_amount' | 'tp_price' | 'sl_price';
}
```

### 1.2 –°–æ–∑–¥–∞—Ç—å src/utils/SolanaAddressValidator.ts

**–§—É–Ω–∫—Ü–∏–∏:**

```typescript
export function isValidSolanaAddress(text: string): boolean
export function extractSolanaAddress(text: string): string | null
```

**–õ–æ–≥–∏–∫–∞:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ base58 —Ñ–æ—Ä–º–∞—Ç–∞
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª–∏–Ω—ã (32-44 —Å–∏–º–≤–æ–ª–∞)
- –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ 32 –±–∞–π—Ç
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–∞ –∏–∑ —Ç–µ–∫—Å—Ç–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º regex

---

## –≠–¢–ê–ü 2: –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤ –¥–ª—è –ø–∞–Ω–µ–ª–∏

### 2.1 –°–æ–∑–¥–∞—Ç—å src/services/StateManager.ts

**–ö–ª–∞—Å—Å StateManager**

**–°–≤–æ–π—Å—Ç–≤–∞:**
- `states: Map<number, UserPanelState>` - —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `CACHE_TTL: 3600000` - –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è (1 —á–∞—Å)

**–ú–µ—Ç–æ–¥—ã:**
- `getState(userId: number): UserPanelState | null`
- `setState(userId: number, state: UserPanelState): void`
- `deleteState(userId: number): void`
- `updateTokenData(userId: number, data: Partial<TokenData>): void`
- `updateUserData(userId: number, data: Partial<UserData>): void`
- `updateActionData(userId: number, data: Partial<ActionData>): void`
- `cleanupInactiveStates(): void` - –æ—á–∏—Å—Ç–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π —Å—Ç–∞—Ä—à–µ 1 —á–∞—Å–∞

### 2.2 –°–æ–∑–¥–∞—Ç—å src/services/TokenDataFetcher.ts

**–ö–ª–∞—Å—Å TokenDataFetcher**

**–°–≤–æ–π—Å—Ç–≤–∞:**
- `cache: Map<string, {data: TokenData, timestamp: number}>` - –∫—ç—à –¥–∞–Ω–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤
- `CACHE_TTL: 30000` - –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ –∫—ç—à–∞ (30 —Å–µ–∫—É–Ω–¥)

**–ú–µ—Ç–æ–¥—ã:**
- `async fetchTokenData(tokenAddress: string): Promise<TokenData | null>`
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—ç—à–∞
  - –ó–∞–≥—Ä—É–∑–∫–∞ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —Ç–æ–∫–µ–Ω–∞ (–∏–º—è, —Ç–∏–∫–µ—Ä, decimals)
  - –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã —á–µ—Ä–µ–∑ Jupiter API
  - –ü–æ–ª—É—á–µ–Ω–∏–µ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ –∏ market cap
  - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

- `async getCurrentPrice(tokenAddress: string): Promise<number | null>`
  - –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º

- `clearCache(): void` - –æ—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞

### 2.3 –°–æ–∑–¥–∞—Ç—å src/services/PositionTracker.ts

**–ö–ª–∞—Å—Å PositionTracker**

**–°–≤–æ–π—Å—Ç–≤–∞:**
- `positions: Map<string, PositionData>` - —Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π (–∫–ª—é—á: userId_tokenAddress)
- `tradesFile: string` - —Ñ–∞–π–ª –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ —Å–¥–µ–ª–æ–∫

**–ú–µ—Ç–æ–¥—ã:**
- `async getPosition(userId: number, tokenAddress: string): Promise<PositionData | null>`
  - –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ —Ç–æ–∫–µ–Ω—É
  - –†–∞—Å—á–µ—Ç —Å—Ä–µ–¥–Ω–µ–π —Ü–µ–Ω—ã –≤—Ö–æ–¥–∞ –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ —Å–¥–µ–ª–æ–∫

- `async updatePosition(userId: number, tokenAddress: string, entryPrice: number, size: number): Promise<void>`
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –ø—Ä–∏ –ø–æ–∫—É–ø–∫–µ
  - –†–∞—Å—á–µ—Ç –Ω–æ–≤–æ–π —Å—Ä–µ–¥–Ω–µ–π —Ü–µ–Ω—ã –≤—Ö–æ–¥–∞

- `async closePosition(userId: number, tokenAddress: string, exitPrice: number, size: number): Promise<void>`
  - –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –ø—Ä–∏ –ø—Ä–æ–¥–∞–∂–µ
  - –ó–∞–ø–∏—Å—å PNL

- `async calculatePNL(userId: number, tokenAddress: string, currentPrice: number): Promise<{pnl_usd: number, pnl_percent: number}>`
  - –†–∞—Å—á–µ—Ç PNL –¥–ª—è —Ç–µ–∫—É—â–µ–π –ø–æ–∑–∏—Ü–∏–∏

- `async getTradeHistory(userId: number, tokenAddress: string): Promise<Trade[]>`
  - –ü–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —Å–¥–µ–ª–æ–∫ –ø–æ —Ç–æ–∫–µ–Ω—É

### 2.4 –°–æ–∑–¥–∞—Ç—å src/services/TPSLManager.ts

**–ö–ª–∞—Å—Å TPSLManager**

**–°–≤–æ–π—Å—Ç–≤–∞:**
- `limitOrderManager: ILimitOrderManager` - –º–µ–Ω–µ–¥–∂–µ—Ä –ª–∏–º–∏—Ç–Ω—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤
- `relatedOrders: Map<string, string[]>` - —Å–≤—è–∑–∞–Ω–Ω—ã–µ –æ—Ä–¥–µ—Ä–∞ (–∫–ª—é—á: positionId)

**–ú–µ—Ç–æ–¥—ã:**
- `async createTPSLOrders(userId: number, tokenAddress: string, entryPrice: number, size: number, tpPercent?: number, slPercent?: number): Promise<{tpOrderId?: string, slOrderId?: string}>`
  - –°–æ–∑–¥–∞–Ω–∏–µ TP –æ—Ä–¥–µ—Ä–∞: sell –ø–æ —Ü–µ–Ω–µ entryPrice √ó (1 + tpPercent/100)
  - –°–æ–∑–¥–∞–Ω–∏–µ SL –æ—Ä–¥–µ—Ä–∞: sell –ø–æ —Ü–µ–Ω–µ entryPrice √ó (1 - slPercent/100)
  - –°–≤—è–∑—ã–≤–∞–Ω–∏–µ –æ—Ä–¥–µ—Ä–æ–≤ —Å –ø–æ–∑–∏—Ü–∏–µ–π

- `async cancelRelatedOrders(positionId: string): Promise<void>`
  - –û—Ç–º–µ–Ω–∞ –≤—Å–µ—Ö —Å–≤—è–∑–∞–Ω–Ω—ã—Ö TP/SL –æ—Ä–¥–µ—Ä–æ–≤

- `async cancelTPOrder(tpOrderId: string): Promise<void>`
  - –û—Ç–º–µ–Ω–∞ TP –æ—Ä–¥–µ—Ä–∞

- `async cancelSLOrder(slOrderId: string): Promise<void>`
  - –û—Ç–º–µ–Ω–∞ SL –æ—Ä–¥–µ—Ä–∞

- `async onOrderFilled(orderId: string): Promise<void>`
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –æ—Ä–¥–µ—Ä–∞
  - –û—Ç–º–µ–Ω–∞ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–æ–≥–æ –æ—Ä–¥–µ—Ä–∞ (TP –ø—Ä–∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–∏ SL, –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç)

### 2.5 –°–æ–∑–¥–∞—Ç—å src/services/AutoRefreshService.ts

**–ö–ª–∞—Å—Å AutoRefreshService**

**–°–≤–æ–π—Å—Ç–≤–∞:**
- `refreshIntervals: Map<number, NodeJS.Timeout>` - –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `stateManager: StateManager` - –º–µ–Ω–µ–¥–∂–µ—Ä —Å–æ—Å—Ç–æ—è–Ω–∏–π
- `tokenDataFetcher: TokenDataFetcher` - –∑–∞–≥—Ä—É–∑—á–∏–∫ –¥–∞–Ω–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤
- `bot: Telegraf` - —ç–∫–∑–µ–º–ø–ª—è—Ä –±–æ—Ç–∞
- `REFRESH_INTERVAL: 5000` - –∏–Ω—Ç–µ—Ä–≤–∞–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (5 —Å–µ–∫—É–Ω–¥)

**–ú–µ—Ç–æ–¥—ã:**
- `startAutoRefresh(userId: number): void`
  - –ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ-–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Ç–æ–∫–µ–Ω–∞ –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã

- `stopAutoRefresh(userId: number): void`
  - –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∞–≤—Ç–æ-–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

- `async refreshPanel(userId: number): Promise<void>`
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–∞–Ω–µ–ª–∏
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ Telegram

- `stopAll(): void` - –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –∞–≤—Ç–æ-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

---

## –≠–¢–ê–ü 3: –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ TradingPanel.ts

### 3.1 –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å src/panels/TradingPanel.ts

**–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä:**
```typescript
constructor(
  bot: Telegraf,
  tradeRouter: TradeRouter,
  limitOrderManager: ILimitOrderManager,
  walletManager: WalletManager,
  userSettings: UserSettings,
  stateManager: StateManager,
  tokenDataFetcher: TokenDataFetcher,
  positionTracker: PositionTracker,
  tpslManager: TPSLManager,
  autoRefreshService: AutoRefreshService
)
```

**–£–¥–∞–ª–∏—Ç—å:**
- –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã (showMainMenu, showLimitOrdersMenu, startCreateOrder –∏ —Ç.–¥.)
- –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ `pendingActions`

### 3.2 –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Ç–µ–∫—Å—Ç–∞ –ø–∞–Ω–µ–ª–∏

**–ú–µ—Ç–æ–¥ generatePanelText(state: UserPanelState): string**

**–ë–ª–æ–∫ Header (–≤—Å–µ–≥–¥–∞):**
```
ü™ô {token_name} ({ticker})
üìù {short_contract_address}
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
```

**–ë–ª–æ–∫ Token Info (–≤—Å–µ–≥–¥–∞):**
```
üìä Market Cap: ${market_cap}
üíß Liquidity: ${liquidity}
üíµ Current Price: ${current_price}
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
```

**–ë–ª–æ–∫ User Info (–≤—Å–µ–≥–¥–∞):**
```
üíº Balance: {sol_balance} SOL (${usd_balance})
üìå Active Order: {Yes/No}
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
```

**–ë–ª–æ–∫ Action Area (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–µ–∂–∏–º–∞):**

**–î–ª—è —Ä–µ–∂–∏–º–∞ Buy:**
```
üí∞ Quick Buy
Selected: ${amount} USD
Slippage: {slippage}%
```

**–î–ª—è —Ä–µ–∂–∏–º–∞ Sell:**
```
üí∏ Quick Sell
Amount: {amount} tokens ({percent}%)
Slippage: {slippage}%
```

**–î–ª—è —Ä–µ–∂–∏–º–∞ Limit:**
```
‚è≥ Limit Order
Target Price: ${limit_price}
Amount: ${amount}
Status: {Active/Inactive}
```

**–î–ª—è —Ä–µ–∂–∏–º–∞ Track:**
```
üìà Position Tracking
Entry: ${entry_price}
Current: ${current_price}
Size: {position_size} tokens
PNL: ${pnl_usd} (${pnl_percent}%)
```

**–ë–ª–æ–∫ Risk Management (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω TP/SL):**
```
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üéØ Risk Management
Take Profit: {Enabled/Disabled} {price or %}
Stop Loss: {Enabled/Disabled} {price or %}
```

### 3.3 –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é inline-–∫–ª–∞–≤–∏–∞—Ç—É—Ä

**–ú–µ—Ç–æ–¥ generateKeyboard(state: UserPanelState): InlineKeyboardButton[][]**

**–†–µ–∂–∏–º–Ω–∞—è –ø–∞–Ω–µ–ª—å (–≤—Å–µ–≥–¥–∞ –ø–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞):**
```
[‚úÖ Buy] [Sell] [Limit] [Track]
```

**Action-–∫–Ω–æ–ø–∫–∏ (–∑–∞–≤–∏—Å—è—Ç –æ—Ç —Ä–µ–∂–∏–º–∞):**

**–î–ª—è Buy/Sell:**
```
[$10] [$50] [$100]
[Slippage: 1%] [Gas: Auto]
[‚úÖ TP: $X.XX] [‚úÖ SL: $X.XX]  (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω)
[üü¢ Execute Trade]
```

**–î–ª—è Limit:**
```
[Set Price] [Set Amount]
[‚úÖ TP: +X%] [‚úÖ SL: -X%]  (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω)
[üìç Place Order] or [‚ùå Cancel Order]
```

**–î–ª—è Track:**
```
[üîÑ Refresh] [üìä Chart]
```

**–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ (–≤—Å–µ–≥–¥–∞ –ø–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç—Ä–æ–∫–∞):**
```
[üîÑ Refresh Data] [‚ùå Close Panel]
```

### 3.4 –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É callback queries

**–ú–µ—Ç–æ–¥ async handleCallback(ctx: Context): Promise<void>**

**Callback patterns:**

- `mode:buy`, `mode:sell`, `mode:limit`, `mode:track` - –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤
- `amount:10`, `amount:50`, `amount:100` - –≤—ã–±–æ—Ä —Å—É–º–º—ã
- `slippage:0.5`, `slippage:1.0`, ... - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ slippage
- `execute:buy`, `execute:sell` - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–¥–µ–ª–∫–∏
- `limit:set_price`, `limit:set_amount` - –æ—Ç–∫—Ä—ã—Ç–∏–µ –¥–∏–∞–ª–æ–≥–∞ –≤–≤–æ–¥–∞
- `limit:place`, `limit:cancel` - —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ/–æ—Ç–º–µ–Ω–∞ –ª–∏–º–∏—Ç–Ω–æ–≥–æ –æ—Ä–¥–µ—Ä–∞
- `tp:set`, `tp:disable` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞/–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ TP
- `sl:set`, `sl:disable` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞/–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ SL
- `refresh:data` - —Ä—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- `panel:close` - –∑–∞–∫—Ä—ã—Ç–∏–µ –ø–∞–Ω–µ–ª–∏

**–õ–æ–≥–∏–∫–∞:**
1. –ü–æ–ª—É—á–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. –û–±—Ä–∞–±–æ—Ç–∞—Ç—å callback –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç action
3. –û–±–Ω–æ–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ
4. –û–±–Ω–æ–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ (—Ç–µ–∫—Å—Ç + –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞)
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ

### 3.5 –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –≤–≤–æ–¥–∞

**–ú–µ—Ç–æ–¥ async handleTextInput(ctx: Context): Promise<boolean>**

**–õ–æ–≥–∏–∫–∞:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –æ–∂–∏–¥–∞–µ—Ç—Å—è –ª–∏ –≤–≤–æ–¥ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (state.waiting_for)
2. –ï—Å–ª–∏ –Ω–µ—Ç - –≤–µ—Ä–Ω—É—Ç—å false (—Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ)
3. –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –≤–≤–æ–¥
4. –û–±–Ω–æ–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –æ–∂–∏–¥–∞–µ–º–æ–≥–æ –≤–≤–æ–¥–∞
5. –û–±–Ω–æ–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–∞–Ω–µ–ª–∏
6. –°–±—Ä–æ—Å–∏—Ç—å —Ñ–ª–∞–≥ waiting_for

**–¢–∏–ø—ã –æ–∂–∏–¥–∞–µ–º–æ–≥–æ –≤–≤–æ–¥–∞:**
- `limit_price` - —Ü–µ–ª–µ–≤–∞—è —Ü–µ–Ω–∞ –¥–ª—è –ª–∏–º–∏—Ç–Ω–æ–≥–æ –æ—Ä–¥–µ—Ä–∞
- `limit_amount` - —Å—É–º–º–∞ –¥–ª—è –ª–∏–º–∏—Ç–Ω–æ–≥–æ –æ—Ä–¥–µ—Ä–∞
- `tp_price` - —Ü–µ–Ω–∞ –¥–ª—è Take Profit
- `sl_price` - —Ü–µ–Ω–∞ –¥–ª—è Stop Loss

### 3.6 –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã

**–ú–µ—Ç–æ–¥—ã –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–¥–µ–ª–æ–∫:**
- `async executeBuy(state: UserPanelState): Promise<void>`
  - –ü–æ–ª—É—á–∏—Ç—å –∫–æ—Ç–∏—Ä–æ–≤–∫—É —á–µ—Ä–µ–∑ TradeRouter
  - –í—ã–ø–æ–ª–Ω–∏—Ç—å –ø–æ–∫—É–ø–∫—É
  - –û–±–Ω–æ–≤–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é —á–µ—Ä–µ–∑ PositionTracker
  - –°–æ–∑–¥–∞—Ç—å TP/SL –æ—Ä–¥–µ—Ä–∞ —á–µ—Ä–µ–∑ TPSLManager (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω—ã)
  - –û–±–Ω–æ–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

- `async executeSell(state: UserPanelState): Promise<void>`
  - –ü–æ–ª—É—á–∏—Ç—å –∫–æ—Ç–∏—Ä–æ–≤–∫—É —á–µ—Ä–µ–∑ TradeRouter
  - –í—ã–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–æ–¥–∞–∂—É
  - –û–±–Ω–æ–≤–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é —á–µ—Ä–µ–∑ PositionTracker
  - –û—Ç–º–µ–Ω–∏—Ç—å —Å–≤—è–∑–∞–Ω–Ω—ã–µ TP/SL –æ—Ä–¥–µ—Ä–∞ —á–µ—Ä–µ–∑ TPSLManager
  - –û–±–Ω–æ–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–ú–µ—Ç–æ–¥—ã –¥–ª—è –ª–∏–º–∏—Ç–Ω—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤:**
- `async placeLimitOrder(state: UserPanelState): Promise<void>`
  - –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
  - –°–æ–∑–¥–∞—Ç—å –æ—Ä–¥–µ—Ä —á–µ—Ä–µ–∑ LimitOrderManager
  - –°–æ–∑–¥–∞—Ç—å TP/SL –æ—Ä–¥–µ—Ä–∞ —á–µ—Ä–µ–∑ TPSLManager (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω—ã)
  - –û–±–Ω–æ–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

- `async cancelLimitOrder(state: UserPanelState): Promise<void>`
  - –û—Ç–º–µ–Ω–∏—Ç—å –æ—Ä–¥–µ—Ä —á–µ—Ä–µ–∑ LimitOrderManager
  - –û—Ç–º–µ–Ω–∏—Ç—å —Å–≤—è–∑–∞–Ω–Ω—ã–µ TP/SL –æ—Ä–¥–µ—Ä–∞ —á–µ—Ä–µ–∑ TPSLManager
  - –û–±–Ω–æ–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–ú–µ—Ç–æ–¥—ã –¥–ª—è TP/SL:**
- `async setTakeProfit(state: UserPanelState, price?: number, percent?: number): Promise<void>`
  - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å TP —Ü–µ–Ω—É –∏–ª–∏ –ø—Ä–æ—Ü–µ–Ω—Ç
  - –û–±–Ω–æ–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ

- `async setStopLoss(state: UserPanelState, price?: number, percent?: number): Promise<void>`
  - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å SL —Ü–µ–Ω—É –∏–ª–∏ –ø—Ä–æ—Ü–µ–Ω—Ç
  - –û–±–Ω–æ–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ

- `async disableTakeProfit(state: UserPanelState): Promise<void>`
  - –û—Ç–∫–ª—é—á–∏—Ç—å TP
  - –û—Ç–º–µ–Ω–∏—Ç—å TP –æ—Ä–¥–µ—Ä —á–µ—Ä–µ–∑ TPSLManager
  - –û–±–Ω–æ–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ

- `async disableStopLoss(state: UserPanelState): Promise<void>`
  - –û—Ç–∫–ª—é—á–∏—Ç—å SL
  - –û—Ç–º–µ–Ω–∏—Ç—å SL –æ—Ä–¥–µ—Ä —á–µ—Ä–µ–∑ TPSLManager
  - –û–±–Ω–æ–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ

---

## –≠–¢–ê–ü 4: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å bot.ts

### 4.1 –û–±–Ω–æ–≤–∏—Ç—å src/bot.ts

**–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–æ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:**
```typescript
const stateManager = new StateManager();
const tokenDataFetcher = new TokenDataFetcher(solanaProvider);
const positionTracker = new PositionTracker();
const tpslManager = new TPSLManager(limitOrderManager);
const autoRefreshService = new AutoRefreshService(bot, stateManager, tokenDataFetcher);
```

**–û–±–Ω–æ–≤–∏—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é TradingPanel:**
```typescript
tradingPanel = new TradingPanel(
  bot,
  tradeRouter,
  pumpFunLimitOrderManager,
  walletManager,
  userSettings,
  stateManager,
  tokenDataFetcher,
  positionTracker,
  tpslManager,
  autoRefreshService
);
```

**–û–±–Ω–æ–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π:**

```typescript
bot.on('text', async (ctx, next) => {
  const text = ctx.message?.text;
  if (!text) {
    next();
    return;
  }

  const userId = ctx.from?.id;
  if (!userId) {
    next();
    return;
  }

  // –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º, –æ–∂–∏–¥–∞–µ—Ç—Å—è –ª–∏ –≤–≤–æ–¥ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  const state = stateManager.getState(userId);
  if (state && state.waiting_for) {
    const handled = await tradingPanel.handleTextInput(ctx);
    if (handled) {
      return;
    }
  }

  // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Ç–µ–∫—Å—Ç –∞–¥—Ä–µ—Å–æ–º —Ç–æ–∫–µ–Ω–∞
  const tokenAddress = extractSolanaAddress(text);
  if (!tokenAddress) {
    next();
    return;
  }

  try {
    // –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
    const loadingMsg = await ctx.reply('‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Ç–æ–∫–µ–Ω–∞...');

    // –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω–∞
    const tokenData = await tokenDataFetcher.fetchTokenData(tokenAddress);
    if (!tokenData) {
      await loadingMsg.edit_text('‚ùå –¢–æ–∫–µ–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω –∏–ª–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∞–¥—Ä–µ—Å');
      return;
    }

    // –ü–æ–ª—É—á–∏—Ç—å –±–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    const wallet = await walletManager.getWallet();
    if (!wallet) {
      await loadingMsg.edit_text('‚ùå –ö–æ—à–µ–ª–µ–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω. –°–æ–∑–¥–∞–π—Ç–µ –∏–ª–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –µ–≥–æ —á–µ—Ä–µ–∑ /wallet.');
      return;
    }

    const solBalance = await solanaProvider.getBalance(wallet.publicKey.toString());
    const solBalanceSOL = solBalance / LAMPORTS_PER_SOL;
    const usdBalance = solBalanceSOL * 150; // –ü—Ä–∏–º–µ—Ä–Ω–∞—è —Ü–µ–Ω–∞ SOL –≤ USD

    // –°–æ–∑–¥–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    const userState: UserPanelState = {
      user_id: userId,
      message_id: loadingMsg.message_id,
      token_address: tokenAddress,
      mode: PanelMode.BUY,
      token_data: tokenData,
      user_data: {
        sol_balance: solBalanceSOL,
        usd_balance: usdBalance,
        has_active_order: false
      },
      action_data: {
        selected_amount: 50,
        slippage: userSettings.slippage,
        tp_enabled: false,
        sl_enabled: false
      },
      created_at: Date.now(),
      closed: false
    };

    stateManager.setState(userId, userState);

    // –ó–∞–º–µ–Ω–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ –ø–∞–Ω–µ–ª—å
    await loadingMsg.edit_text(
      text=tradingPanel.generatePanelText(userState),
      reply_markup=tradingPanel.generateKeyboard(userState)
    );

    // –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
    autoRefreshService.startAutoRefresh(userId);

  } catch (error) {
    console.error('Error loading token:', error);
    await ctx.reply('‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–æ–∫–µ–Ω–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.');
  }
});
```

**–û–±–Ω–æ–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ callback queries:**

–£–±—Ä–∞—Ç—å –¥—É–±–ª–∏—Ä—É—é—â—É—é –ª–æ–≥–∏–∫—É –∏–∑ `bot.on('callback_query')` - –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ–¥–∞—á—É –≤ `tradingPanel.handleCallback()`.

### 4.2 –û–±–Ω–æ–≤–∏—Ç—å shutdown –ª–æ–≥–∏–∫—É

```typescript
process.once('SIGINT', async () => {
  console.log('\nüõë Shutting down gracefully...');
  autoRefreshService.stopAll();
  // ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞
});
```

---

## –≠–¢–ê–ü 5: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∂–∏–º–æ–≤ –ø–∞–Ω–µ–ª–∏

### 5.1 –†–µ–∂–∏–º Buy

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –í—ã–±–æ—Ä —Å—É–º–º—ã: $10, $50, $100, –∏–ª–∏ –≤–≤–æ–¥ —Å–≤–æ–µ–π —Å—É–º–º—ã
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ slippage: 0.5%, 1%, 2%, 3%, 5%, 10%
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ TP/SL (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ–∫—É–ø–∫–∏ —á–µ—Ä–µ–∑ TradeRouter

**–õ–æ–≥–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ–∫—É–ø–∫–∏:**
1. –ü–æ–∫–∞–∑–∞—Ç—å "‚è≥ Processing trade..."
2. –ü–æ–ª—É—á–∏—Ç—å –∫–æ—Ç–∏—Ä–æ–≤–∫—É —á–µ—Ä–µ–∑ TradeRouter
3. –ü–æ–¥–ø–∏—Å–∞—Ç—å –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
4. –ñ–¥–∞—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
5. –û–±–Ω–æ–≤–∏—Ç—å –±–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
6. –°–æ–∑–¥–∞—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é —á–µ—Ä–µ–∑ PositionTracker
7. –ï—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω TP/SL, —Å–æ–∑–¥–∞—Ç—å –æ—Ä–¥–µ—Ä–∞ —á–µ—Ä–µ–∑ TPSLManager
8. –û–±–Ω–æ–≤–∏—Ç—å –ø–∞–Ω–µ–ª—å —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º

### 5.2 –†–µ–∂–∏–º Sell

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –í—ã–±–æ—Ä –ø—Ä–æ—Ü–µ–Ω—Ç–∞: 25%, 50%, 100%, –∏–ª–∏ –≤–≤–æ–¥ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ slippage
- –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–¥–∞–∂–∏ —á–µ—Ä–µ–∑ TradeRouter

**–õ–æ–≥–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–¥–∞–∂–∏:**
1. –ü–æ–∫–∞–∑–∞—Ç—å "‚è≥ Processing trade..."
2. –ü–æ–ª—É—á–∏—Ç—å –∫–æ—Ç–∏—Ä–æ–≤–∫—É —á–µ—Ä–µ–∑ TradeRouter
3. –ü–æ–¥–ø–∏—Å–∞—Ç—å –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
4. –ñ–¥–∞—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
5. –û–±–Ω–æ–≤–∏—Ç—å –±–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
6. –û–±–Ω–æ–≤–∏—Ç—å/–∑–∞–∫—Ä—ã—Ç—å –ø–æ–∑–∏—Ü–∏—é —á–µ—Ä–µ–∑ PositionTracker
7. –û—Ç–º–µ–Ω–∏—Ç—å —Å–≤—è–∑–∞–Ω–Ω—ã–µ TP/SL –æ—Ä–¥–µ—Ä–∞ —á–µ—Ä–µ–∑ TPSLManager
8. –û–±–Ω–æ–≤–∏—Ç—å –ø–∞–Ω–µ–ª—å —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º

### 5.3 –†–µ–∂–∏–º Limit

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –í–≤–æ–¥ —Ü–µ–ª–µ–≤–æ–π —Ü–µ–Ω—ã (—á–µ—Ä–µ–∑ –¥–∏–∞–ª–æ–≥)
- –í–≤–æ–¥ —Å—É–º–º—ã (—á–µ—Ä–µ–∑ –¥–∏–∞–ª–æ–≥)
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ TP/SL (–¥–ª—è buy –æ—Ä–¥–µ—Ä–æ–≤)
- –†–∞–∑–º–µ—â–µ–Ω–∏–µ –æ—Ä–¥–µ—Ä–∞ —á–µ—Ä–µ–∑ LimitOrderManager

**–õ–æ–≥–∏–∫–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –æ—Ä–¥–µ—Ä–∞:**
1. –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (—Ü–µ–Ω–∞, —Å—É–º–º–∞)
2. –°–æ–∑–¥–∞—Ç—å –æ—Ä–¥–µ—Ä —á–µ—Ä–µ–∑ LimitOrderManager
3. –ï—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω TP/SL, —Å–æ–∑–¥–∞—Ç—å —Å–≤—è–∑–∞–Ω–Ω—ã–µ –æ—Ä–¥–µ—Ä–∞ —á–µ—Ä–µ–∑ TPSLManager
4. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å –≤ –ø–∞–Ω–µ–ª–∏
5. –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—Ä–¥–µ—Ä–∞ (—É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ LimitOrderManager)

### 5.4 –†–µ–∂–∏–º Track

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ —á–µ—Ä–µ–∑ PositionTracker
- –†–∞—Å—á–µ—Ç PNL
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ–∑–∏—Ü–∏–∏
- –ö–Ω–æ–ø–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –≥—Ä–∞—Ñ–∏–∫ —Ü–µ–Ω—ã

**–õ–æ–≥–∏–∫–∞:**
1. –ü–æ–ª—É—á–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ —Ç–æ–∫–µ–Ω—É
2. –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â—É—é —Ü–µ–Ω—É —Ç–æ–∫–µ–Ω–∞
3. –†–∞—Å—Å—á–∏—Ç–∞—Ç—å PNL
4. –û—Ç–æ–±—Ä–∞–∑–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –ø–∞–Ω–µ–ª–∏

---

## –≠–¢–ê–ü 6: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è TP/SL —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

### 6.1 –°–æ–∑–¥–∞–Ω–∏–µ TP/SL –æ—Ä–¥–µ—Ä–æ–≤

**–ü—Ä–∏ –ø–æ–∫—É–ø–∫–µ —Å –≤–∫–ª—é—á–µ–Ω–Ω—ã–º TP/SL:**

1. –†–∞—Å—Å—á–∏—Ç–∞—Ç—å TP —Ü–µ–Ω—É: `entryPrice √ó (1 + tpPercent / 100)`
2. –†–∞—Å—Å—á–∏—Ç–∞—Ç—å SL —Ü–µ–Ω—É: `entryPrice √ó (1 - slPercent / 100)`
3. –°–æ–∑–¥–∞—Ç—å sell –æ—Ä–¥–µ—Ä —Å TP —Ü–µ–Ω–æ–π —á–µ—Ä–µ–∑ LimitOrderManager
4. –°–æ–∑–¥–∞—Ç—å sell –æ—Ä–¥–µ—Ä —Å SL —Ü–µ–Ω–æ–π —á–µ—Ä–µ–∑ LimitOrderManager
5. –°–≤—è–∑–∞—Ç—å –æ—Ä–¥–µ—Ä–∞ —Å –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ–∑–∏—Ü–∏–µ–π —á–µ—Ä–µ–∑ TPSLManager

**–ü—Ä–∏–º–µ—Ä:**
- –ü–æ–∫—É–ø–∫–∞ 100 —Ç–æ–∫–µ–Ω–æ–≤ –ø–æ $1.00
- TP: +50% ‚Üí $1.50
- SL: -10% ‚Üí $0.90
- –°–æ–∑–¥–∞—Ç—å sell –æ—Ä–¥–µ—Ä –Ω–∞ 100 —Ç–æ–∫–µ–Ω–æ–≤ –ø–æ $1.50 (TP)
- –°–æ–∑–¥–∞—Ç—å sell –æ—Ä–¥–µ—Ä –Ω–∞ 100 —Ç–æ–∫–µ–Ω–æ–≤ –ø–æ $0.90 (SL)

### 6.2 –ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ TP/SL –æ—Ä–¥–µ—Ä–æ–≤

**–ü—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ TP —Ü–µ–Ω—ã:**
1. LimitOrderManager –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª–Ω—è–µ—Ç TP –æ—Ä–¥–µ—Ä
2. TPSLManager –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–∏
3. –û—Ç–º–µ–Ω–∏—Ç—å SL –æ—Ä–¥–µ—Ä (–ø–æ–∑–∏—Ü–∏—è —É–∂–µ –∑–∞–∫—Ä—ã—Ç–∞)
4. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å –ø–æ–∑–∏—Ü–∏–∏ –≤ PositionTracker

**–ü—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ SL —Ü–µ–Ω—ã:**
1. LimitOrderManager –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª–Ω—è–µ—Ç SL –æ—Ä–¥–µ—Ä
2. TPSLManager –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–∏
3. –û—Ç–º–µ–Ω–∏—Ç—å TP –æ—Ä–¥–µ—Ä (–ø–æ–∑–∏—Ü–∏—è —É–∂–µ –∑–∞–∫—Ä—ã—Ç–∞)
4. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å –ø–æ–∑–∏—Ü–∏–∏ –≤ PositionTracker

### 6.3 –û—Ç–º–µ–Ω–∞ TP/SL –æ—Ä–¥–µ—Ä–æ–≤

**–ü—Ä–∏ —Ä—É—á–Ω–æ–π –ø—Ä–æ–¥–∞–∂–µ –ø–æ–∑–∏—Ü–∏–∏:**
1. –û—Ç–º–µ–Ω–∏—Ç—å –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ TP/SL –æ—Ä–¥–µ—Ä–∞ —á–µ—Ä–µ–∑ TPSLManager
2. –û–±–Ω–æ–≤–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é —á–µ—Ä–µ–∑ PositionTracker

**–ü—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –ø–∞–Ω–µ–ª–∏:**
- –ù–ï –æ—Ç–º–µ–Ω—è—Ç—å –æ—Ä–¥–µ—Ä–∞ (–æ–Ω–∏ –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å)

**–ü—Ä–∏ –æ—Ç–º–µ–Ω–µ –ª–∏–º–∏—Ç–Ω–æ–≥–æ –æ—Ä–¥–µ—Ä–∞:**
1. –û—Ç–º–µ–Ω–∏—Ç—å —Å–≤—è–∑–∞–Ω–Ω—ã–µ TP/SL –æ—Ä–¥–µ—Ä–∞ —á–µ—Ä–µ–∑ TPSLManager
2. –û–±–Ω–æ–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

## –≠–¢–ê–ü 7: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞

### 7.1 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∞–¥—Ä–µ—Å–æ–≤

**–¢–µ—Å—Ç-–∫–µ–π—Å—ã:**
- –í–∞–ª–∏–¥–Ω—ã–π –∞–¥—Ä–µ—Å Solana (32-44 —Å–∏–º–≤–æ–ª–∞, base58)
- –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π –∞–¥—Ä–µ—Å (–Ω–µ–≤–µ—Ä–Ω—ã–π base58)
- –ê–¥—Ä–µ—Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –¥–ª–∏–Ω—ã (< 32 –∏–ª–∏ > 44 —Å–∏–º–≤–æ–ª–∞)
- –¢–µ–∫—Å—Ç —Å –∞–¥—Ä–µ—Å–æ–º –≤–Ω—É—Ç—Ä–∏
- –û–±—ã—á–Ω—ã–π —Ç–µ–∫—Å—Ç –±–µ–∑ –∞–¥—Ä–µ—Å–∞

### 7.2 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤ –ø–∞–Ω–µ–ª–∏

**–¢–µ—Å—Ç-–∫–µ–π—Å—ã:**
- –û—Ç–∫—Ä—ã—Ç–∏–µ –ø–∞–Ω–µ–ª–∏ –ø–æ –∞–¥—Ä–µ—Å—É —Ç–æ–∫–µ–Ω–∞
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Ä–µ–∂–∏–º–∞–º–∏ (Buy ‚Üí Sell ‚Üí Limit ‚Üí Track)
- –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ buy –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ä–∞–∑–Ω—ã–º–∏ —Å—É–º–º–∞–º–∏
- –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ sell –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ä–∞–∑–Ω—ã–º–∏ –ø—Ä–æ—Ü–µ–Ω—Ç–∞–º–∏
- –°–æ–∑–¥–∞–Ω–∏–µ –ª–∏–º–∏—Ç–Ω–æ–≥–æ –æ—Ä–¥–µ—Ä–∞
- –û—Ç–º–µ–Ω–∞ –ª–∏–º–∏—Ç–Ω–æ–≥–æ –æ—Ä–¥–µ—Ä–∞
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –≤ —Ä–µ–∂–∏–º–µ Track

### 7.3 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ TP/SL

**–¢–µ—Å—Ç-–∫–µ–π—Å—ã:**
- –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ —Å TP
- –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ —Å SL
- –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ —Å TP –∏ SL
- –ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ TP –æ—Ä–¥–µ—Ä–∞
- –ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ SL –æ—Ä–¥–µ—Ä–∞
- –û—Ç–º–µ–Ω–∞ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤
- –†—É—á–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ –ø–æ–∑–∏—Ü–∏–∏ —Å –∞–∫—Ç–∏–≤–Ω—ã–º–∏ TP/SL

### 7.4 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–≤—Ç–æ-–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

**–¢–µ—Å—Ç-–∫–µ–π—Å—ã:**
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Ç–æ–∫–µ–Ω–∞ –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–æ–≤
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ PNL –≤ —Ä–µ–∂–∏–º–µ Track
- –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∞–≤—Ç–æ-–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –ø–∞–Ω–µ–ª–∏
- –û—á–∏—Å—Ç–∫–∞ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π

---

## –≠–¢–ê–ü 8: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### 8.1 –û–±–Ω–æ–≤–∏—Ç—å README.md

**–†–∞–∑–¥–µ–ª—ã:**
- –û–ø–∏—Å–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Ç–æ—Ä–≥–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã
- –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

### 8.2 –°–æ–∑–¥–∞—Ç—å docs/trading_panel.md

**–†–∞–∑–¥–µ–ª—ã:**
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–∞–Ω–µ–ª–∏
- –û–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö —Ä–µ–∂–∏–º–æ–≤
- API reference
- –î–∏–∞–≥—Ä–∞–º–º—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π

---

## –ü–†–ò–ú–ï–ß–ê–ù–ò–Ø –ò –û–ì–†–ê–ù–ò–ß–ï–ù–ò–Ø

### –ù–ï –†–ï–ê–õ–ò–ó–û–í–´–í–ê–¢–¨:
- ‚ùå –¢—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø-–ª–æ—Å—Å
- ‚ùå –¢—Ä–µ–π–ª–∏–Ω–≥ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç
- ‚úÖ –¢–æ–ª—å–∫–æ –æ–±—ã—á–Ω—ã–π —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π TP/SL

### –¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- TP/SL —Ä–∞–±–æ—Ç–∞—é—Ç –¥–ª—è –ø–æ–∑–∏—Ü–∏–π, —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ –±–æ—Ç–∞
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ PumpFunLimitOrderManager –∏ JupiterLimitOrderManager
- –•—Ä–∞–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –ø–∞–º—è—Ç–∏ (Map)
- –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω–∞ –Ω–∞ 30 —Å–µ–∫—É–Ω–¥
- –ê–≤—Ç–æ-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –≤–≤–æ–¥—ã
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏
- –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

### –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨:
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å–¥–µ–ª–æ–∫ –¥–ª—è —Å—É–º–º > $100
- Rate limiting (–º–∞–∫—Å 1 —Å–¥–µ–ª–∫–∞ –≤ 3 —Å–µ–∫—É–Ω–¥—ã)
- –í–∞–ª–∏–¥–∞—Ü–∏—è callback data (–ø—Ä–æ–≤–µ—Ä–∫–∞ userId)
- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –∫–ª—é—á–µ–π (—É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ WalletManager)
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –∞–¥—Ä–µ—Å–æ–≤ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤

---

## –ü–†–ò–û–†–ò–¢–ï–¢ –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

1. **–í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:**
   - –≠—Ç–∞–ø 1: –¢–∏–ø—ã –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
   - –≠—Ç–∞–ø 2: –°–µ—Ä–≤–∏—Å—ã (StateManager, TokenDataFetcher)
   - –≠—Ç–∞–ø 3: –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ TradingPanel.ts (–±–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å)
   - –≠—Ç–∞–ø 4: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å bot.ts

2. **–°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:**
   - –≠—Ç–∞–ø 5: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∂–∏–º–æ–≤ –ø–∞–Ω–µ–ª–∏
   - –≠—Ç–∞–ø 6: TP/SL —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
   - –≠—Ç–∞–ø 7: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

3. **–ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:**
   - –≠—Ç–∞–ø 8: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
   - –ì—Ä–∞—Ñ–∏–∫ —Ü–µ–Ω—ã –≤ —Ä–µ–∂–∏–º–µ Track (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## –ó–ê–í–ò–°–ò–ú–û–°–¢–ò

### –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–æ–¥—É–ª–∏:
- `TradeRouter` - –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–¥–µ–ª–æ–∫
- `PumpFunLimitOrderManager` - –¥–ª—è –ª–∏–º–∏—Ç–Ω—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤ PumpFun
- `JupiterLimitOrderManager` - –¥–ª—è –ª–∏–º–∏—Ç–Ω—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤ Jupiter
- `WalletManager` - –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ—à–µ–ª—å–∫–æ–º
- `SolanaProvider` - –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Solana
- `DisplayHelper` - –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

### –ù–æ–≤—ã–µ –º–æ–¥—É–ª–∏:
- `StateManager` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `TokenDataFetcher` - –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤
- `PositionTracker` - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π
- `TPSLManager` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ TP/SL –æ—Ä–¥–µ—Ä–∞–º–∏
- `AutoRefreshService` - –∞–≤—Ç–æ-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞–Ω–µ–ª–µ–π
- `SolanaAddressValidator` - –≤–∞–ª–∏–¥–∞—Ü–∏—è –∞–¥—Ä–µ—Å–æ–≤

---

## –°–¢–†–£–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê –ü–û–°–õ–ï –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

```
src/
‚îú‚îÄ‚îÄ bot.ts                              # –û–±–Ω–æ–≤–∏—Ç—å
‚îú‚îÄ‚îÄ types/
‚îÇ   ‚îú‚îÄ‚îÄ panel.ts                        # –ù–û–í–´–ô
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ StateManager.ts                  # –ù–û–í–´–ô
‚îÇ   ‚îú‚îÄ‚îÄ TokenDataFetcher.ts              # –ù–û–í–´–ô
‚îÇ   ‚îú‚îÄ‚îÄ PositionTracker.ts               # –ù–û–í–´–ô
‚îÇ   ‚îú‚îÄ‚îÄ TPSLManager.ts                  # –ù–û–í–´–ô
‚îÇ   ‚îî‚îÄ‚îÄ AutoRefreshService.ts           # –ù–û–í–´–ô
‚îú‚îÄ‚îÄ panels/
‚îÇ   ‚îî‚îÄ‚îÄ TradingPanel.ts                 # –ü–ï–†–ï–ü–ò–°–ê–¢–¨
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îú‚îÄ‚îÄ SolanaAddressValidator.ts         # –ù–û–í–´–ô
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ trading/
‚îÇ   ‚îú‚îÄ‚îÄ managers/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PumpFunLimitOrderManager.ts  # –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ JupiterLimitOrderManager.ts  # –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ wallet/
    ‚îî‚îÄ‚îÄ WalletManager.ts                # –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨
```

---

## –î–ê–¢–ê –ò –í–ï–†–°–ò–Ø

**–î–∞—Ç–∞:** 2025-01-XX
**–í–µ—Ä—Å–∏—è:** 1.0
**–ê–≤—Ç–æ—Ä:** Kilo Code
